<div class="card" *ngIf="show">
  <div class="card-header">
    <h1>Viewing details of {{show.title}}</h1>
  </div>
  <div class="row">
    <div class="col-auto">
      <img class="img-fluid" src="{{show.coverUrl}}" alt="...">
    </div>
    <div class="col m-auto">
      <div class="card-body">
        <h2 class="card-title mb-0">{{show.title}}</h2>
        <p class="card-text ml-1">{{show.releaseYear}}</p>
        <p class="card-text my-2">{{show.imdbUrl}}</p>
        <p class="card-text my-2">{{show.netflixUrl}}</p>
        <div class="row mt-4 mx-auto">
          <a href="{{show.imdbUrl}}" target="_blank" class="mr-4">Link to IMDb</a>
          <a href="{{show.netflixUrl}}" target="_blank" class="">Link to Netflix</a>
        </div>
        <ngb-rating class="mt-3" [rate]="show.myRating" [max]="5" [readonly]="true">
          <ng-template let-fill="fill" let-index="index">
            <span class="star" [class.filled]="fill === 100">&#9733;</span>
          </ng-template>
        </ngb-rating>
      </div>
    </div>
  </div>
  <div class="d-flex card-footer">
    <button class="btn btn-outline-danger mr-auto" (click)="goBack()">Go back</button>
    <button class="btn btn-outline-danger ml-2" [routerLink]="'./edit'">Edit</button>
    <button class="btn btn-outline-danger ml-2" (click)="openModal(content)">Remove</button>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Warning!</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>You are about to remove {{show.title}}.</p>
    <p>Are you sure?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('Cancel click')">Cancel</button>
    <button type="button" class="btn btn-outline-danger" (click)="modal.close('Ok click')">Remove</button>
  </div>
</ng-template>
